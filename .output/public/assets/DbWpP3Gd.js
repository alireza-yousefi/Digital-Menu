import{g as o,h as x,r as l,c as u,b as s,w as f,o as d,F as C,i as k,j as I}from"./BYirGUPZ.js";const T={class:"bg-konva"},E={__name:"map",setup(B){const v=o({width:400,height:600}),c=o([{type:"2 نفره",isReserved:!1,top:0,left:10,id:"table1",width:95,height:95},{type:"2 نفره",isReserved:!0,top:160,left:10,id:"table2",width:95,height:95},{type:"3 نفره",isReserved:!0,top:320,left:10,id:"table3",width:95,height:95},{type:"4 نفره",isReserved:!1,top:110,left:300,id:"table4",width:102,height:102},{type:"6 نفره",isReserved:!1,top:220,left:280,id:"table5",width:140,height:140},{type:"4 نفره",isReserved:!0,top:370,left:300,id:"table6",width:102,height:102},{type:"4 نفره",isReserved:!1,top:470,left:240,id:"table7",width:102,height:102}]),r=o({image:null,x:-30,y:360,width:320,height:280}),h=o({image:null,x:180,y:-82,width:300,height:220}),m=o({image:null,x:100,y:80,width:250,height:360}),g=o([]);x(async()=>{await w()});const w=async()=>{for(const e of c.value)e.image=await n(p(e.type));r.value.image=await n("img/bar.png"),h.value.image=await n("img/door.png"),m.value.image=await n("img/pool.png")},n=e=>new Promise(a=>{const i=new window.Image;i.src=e,i.onload=()=>a(i)}),p=e=>({"2 نفره":"img/tableshadow.png","3 نفره":"img/tableshadow.png","4 نفره":"img/table-6.png","6 نفره":"img/sofa.png"})[e]||null,y=async e=>{if(e.isReserved)return;const a=g.value.indexOf(e.id);a>-1?(g.value.splice(a,1),e.image=await n(p(e.type))):(g.value.push(e.id),e.image=await n(_(e.type)))},_=e=>({"2 نفره":"img/table-4-red.png","4 نفره":"img/table-6-red.png","6 نفره":"img/table-8-red.png"})[e]||"img/tableshadow.png";return(e,a)=>{const i=l("v-image"),R=l("v-layer"),b=l("v-stage");return d(),u("div",T,[s(b,{config:v.value},{default:f(()=>[s(R,null,{default:f(()=>[s(i,{config:r.value},null,8,["config"]),s(i,{config:h.value},null,8,["config"]),s(i,{config:m.value},null,8,["config"]),(d(!0),u(C,null,k(c.value,t=>(d(),I(i,{key:t.id,config:{image:t.image,x:t.left,y:t.top,width:t.width,height:t.height,opacity:t.isReserved?.5:1,id:t.id,listening:!t.isReserved},onClick:F=>y(t)},null,8,["config","onClick"]))),128))]),_:1})]),_:1},8,["config"])])}}};export{E as default};
